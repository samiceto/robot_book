"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_book=self.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[355],{5665:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"part1-foundations/robot-description-urdf-sdf","title":"Chapter 4: Robot Description - URDF, SDF, and Xacro for Humanoids","description":"Learning Objectives","source":"@site/docs/part1-foundations/04-robot-description-urdf-sdf.md","sourceDirName":"part1-foundations","slug":"/part1-foundations/robot-description-urdf-sdf","permalink":"/robot_book/docs/part1-foundations/robot-description-urdf-sdf","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Chapter 3: ROS 2 Fundamentals - Nodes, Topics, Services, Actions","permalink":"/robot_book/docs/part1-foundations/ros2-fundamentals"},"next":{"title":"Chapter 5: Gazebo Basics","permalink":"/robot_book/docs/part2-simulation/gazebo-basics"}}');var s=i(4848),l=i(8453);const o={},a="Chapter 4: Robot Description - URDF, SDF, and Xacro for Humanoids",t={},c=[{value:"1. Why Robot Descriptions Matter",id:"1-why-robot-descriptions-matter",level:2},{value:"1.1 The Role of Robot Descriptions in Physical AI",id:"11-the-role-of-robot-descriptions-in-physical-ai",level:3},{value:"1.2 URDF vs. SDF vs. USD: Format Comparison",id:"12-urdf-vs-sdf-vs-usd-format-comparison",level:3},{value:"2. URDF Fundamentals",id:"2-urdf-fundamentals",level:2},{value:"2.1 Anatomy of a URDF File",id:"21-anatomy-of-a-urdf-file",level:3},{value:"2.2 Coordinate Frames and Transforms",id:"22-coordinate-frames-and-transforms",level:3},{value:"2.3 Calculating Inertia Tensors",id:"23-calculating-inertia-tensors",level:3},{value:"3. Building a Humanoid URDF",id:"3-building-a-humanoid-urdf",level:2},{value:"3.1 Kinematic Chain Design",id:"31-kinematic-chain-design",level:3},{value:"3.2 Complete Humanoid URDF Structure",id:"32-complete-humanoid-urdf-structure",level:3},{value:"3.3 Adding Sensors (Cameras, IMUs, LiDAR)",id:"33-adding-sensors-cameras-imus-lidar",level:3},{value:"4. Xacro for Modular Descriptions",id:"4-xacro-for-modular-descriptions",level:2},{value:"4.1 Why Xacro?",id:"41-why-xacro",level:3},{value:"4.2 Advanced Xacro Patterns",id:"42-advanced-xacro-patterns",level:3},{value:"5. SDF Format and URDF\u2192SDF Conversion",id:"5-sdf-format-and-urdfsdf-conversion",level:2},{value:"5.1 SDF Advantages Over URDF",id:"51-sdf-advantages-over-urdf",level:3},{value:"5.2 URDF\u2192SDF Conversion",id:"52-urdfsdf-conversion",level:3},{value:"6. Validation and Debugging Tools",id:"6-validation-and-debugging-tools",level:2},{value:"6.1 check_urdf",id:"61-check_urdf",level:3},{value:"6.2 urdf_to_graphviz",id:"62-urdf_to_graphviz",level:3},{value:"6.3 RViz Visualization",id:"63-rviz-visualization",level:3},{value:"6.4 Gazebo Simulation Validation",id:"64-gazebo-simulation-validation",level:3},{value:"6.5 Isaac Sim URDF Importer",id:"65-isaac-sim-urdf-importer",level:3},{value:"7. Hands-On Lab: Build Your Own Humanoid URDF",id:"7-hands-on-lab-build-your-own-humanoid-urdf",level:2},{value:"Lab Setup",id:"lab-setup",level:3},{value:"Step 1: Define Robot Parameters (30 minutes)",id:"step-1-define-robot-parameters-30-minutes",level:3},{value:"Step 2: Create Xacro Macros (2 hours)",id:"step-2-create-xacro-macros-2-hours",level:3},{value:"Step 3: Assemble Main URDF (1 hour)",id:"step-3-assemble-main-urdf-1-hour",level:3},{value:"Step 4: Validation (1 hour)",id:"step-4-validation-1-hour",level:3},{value:"Step 5: RViz Visualization (1 hour)",id:"step-5-rviz-visualization-1-hour",level:3},{value:"Step 6: Gazebo Simulation (2 hours)",id:"step-6-gazebo-simulation-2-hours",level:3},{value:"8. End-of-Chapter Project: Modular Sensor Platform",id:"8-end-of-chapter-project-modular-sensor-platform",level:2},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"chapter-4-robot-description---urdf-sdf-and-xacro-for-humanoids",children:"Chapter 4: Robot Description - URDF, SDF, and Xacro for Humanoids"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Learning Objectives"})}),"\n",(0,s.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Explain the purpose and structure of robot description formats (URDF, SDF, Xacro)"}),"\n",(0,s.jsx)(e.li,{children:"Create URDF files defining links, joints, visual/collision geometry, and inertial properties"}),"\n",(0,s.jsx)(e.li,{children:"Build a complete humanoid robot description with realistic kinematics and dynamics"}),"\n",(0,s.jsx)(e.li,{children:"Use Xacro macros to create modular, parameterized robot descriptions"}),"\n",(0,s.jsx)(e.li,{children:"Convert between URDF and SDF formats and understand their differences"}),"\n",(0,s.jsx)(e.li,{children:"Validate robot descriptions using check_urdf, urdf_to_graphviz, and Gazebo tools"}),"\n",(0,s.jsx)(e.li,{children:"Debug common URDF/SDF errors (missing masses, broken kinematic chains, invalid joint limits)"}),"\n",(0,s.jsx)(e.li,{children:"Load and visualize robot descriptions in RViz and Isaac Sim"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Prerequisites"}),": Chapter 2 (ROS 2 installation), basic XML syntax, linear algebra (transforms, rotation matrices)"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Estimated Time"}),": 10-12 hours (5 hours reading, 5-7 hours hands-on lab)"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"1-why-robot-descriptions-matter",children:"1. Why Robot Descriptions Matter"}),"\n",(0,s.jsx)(e.h3,{id:"11-the-role-of-robot-descriptions-in-physical-ai",children:"1.1 The Role of Robot Descriptions in Physical AI"}),"\n",(0,s.jsx)(e.p,{children:"Every robot simulation, motion planner, and control system needs to answer fundamental questions:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Kinematics"}),": Where is my end-effector when my shoulder is at 45\xb0 and elbow at 90\xb0?"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Dynamics"}),": How much torque do I need to lift this 2 kg object with a 0.5m arm?"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Collision Detection"}),": Will my robot's elbow hit the table if I execute this trajectory?"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Sensor Placement"}),": Where is my camera's optical frame relative to my torso?"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Robot description files provide the ",(0,s.jsx)(e.strong,{children:"single source of truth"})," for these questions. They define:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Kinematic Structure"}),": Parent-child relationships between rigid bodies (links) connected by joints"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Physical Properties"}),": Mass, center of mass, moment of inertia for dynamics simulation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Geometric Models"}),": Visual meshes for rendering and collision meshes for physics"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Sensor Specifications"}),": Camera intrinsics, LiDAR scan ranges, IMU noise parameters"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["For humanoid robots, accurate robot descriptions are ",(0,s.jsx)(e.strong,{children:"critical"})," because:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"High DOF Complexity"}),": 30+ DOF requires precise joint limits and coupling constraints"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Dynamic Stability"}),": Small inertia errors cause bipedal controllers to fail catastrophically"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Sim-to-Real Transfer"}),": VLA models trained in simulation with wrong mass distribution won't transfer to real hardware"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Safety"}),": Collision checking prevents expensive hardware damage during autonomous operation"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"12-urdf-vs-sdf-vs-usd-format-comparison",children:"1.2 URDF vs. SDF vs. USD: Format Comparison"}),"\n",(0,s.jsx)(e.p,{children:"The robotics ecosystem has three major robot description formats:"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Feature"}),(0,s.jsx)(e.th,{children:"URDF (Unified Robot Description Format)"}),(0,s.jsx)(e.th,{children:"SDF (Simulation Description Format)"}),(0,s.jsx)(e.th,{children:"USD (Universal Scene Description)"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Primary Use Case"})}),(0,s.jsx)(e.td,{children:"ROS 2 ecosystem, simple robots"}),(0,s.jsx)(e.td,{children:"Gazebo simulation, multi-robot scenes"}),(0,s.jsx)(e.td,{children:"NVIDIA Omniverse, Isaac Sim"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Joint Types"})}),(0,s.jsx)(e.td,{children:"Revolute, Prismatic, Fixed, Continuous, Planar, Floating"}),(0,s.jsx)(e.td,{children:"All URDF types + Ball, Universal, Screw"}),(0,s.jsx)(e.td,{children:"All joint types + custom constraints"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Multi-Robot Support"})}),(0,s.jsx)(e.td,{children:"No (single robot only)"}),(0,s.jsxs)(e.td,{children:["Yes (multiple ",(0,s.jsx)(e.code,{children:"<model>"})," tags)"]}),(0,s.jsx)(e.td,{children:"Yes (USD composition)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Closed Loops"})}),(0,s.jsx)(e.td,{children:"No (strict tree topology)"}),(0,s.jsx)(e.td,{children:"Yes (with explicit constraints)"}),(0,s.jsx)(e.td,{children:"Yes (PhysX articulations)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Plugin System"})}),(0,s.jsx)(e.td,{children:"Gazebo Classic plugins"}),(0,s.jsx)(e.td,{children:"Gazebo plugins + SDF extensions"}),(0,s.jsx)(e.td,{children:"Omniverse extensions + Python scripting"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Units"})}),(0,s.jsx)(e.td,{children:"SI (meters, kg, rad)"}),(0,s.jsx)(e.td,{children:"SI (explicit in schema)"}),(0,s.jsx)(e.td,{children:"Configurable (cm/m toggle in Isaac Sim)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"File Format"})}),(0,s.jsx)(e.td,{children:"XML"}),(0,s.jsx)(e.td,{children:"XML"}),(0,s.jsxs)(e.td,{children:["Binary (",(0,s.jsx)(e.code,{children:".usdc"}),") or ASCII (",(0,s.jsx)(e.code,{children:".usda"}),")"]})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Key Differences"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"URDF Limitations"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Cannot define closed kinematic loops (e.g., parallel linkages, four-bar mechanisms)"}),"\n",(0,s.jsx)(e.li,{children:"No native support for multiple robots in one file"}),"\n",(0,s.jsxs)(e.li,{children:["Joint friction/damping requires Gazebo-specific ",(0,s.jsx)(e.code,{children:"<gazebo>"})," tags"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"SDF Advantages"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Native support for multiple models, nested models, and model composition"}),"\n",(0,s.jsx)(e.li,{children:"More expressive physics (joint friction, spring-damper systems, contact properties)"}),"\n",(0,s.jsx)(e.li,{children:"Sensor definitions are first-class citizens (LiDAR, depth cameras with noise models)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"USD for Isaac Sim"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Industry-standard format (Pixar, used in film VFX pipelines)"}),"\n",(0,s.jsx)(e.li,{children:"Real-time ray tracing, physically-based rendering (PBR materials)"}),"\n",(0,s.jsx)(e.li,{children:"Tight integration with PhysX 5.x for accurate contact dynamics"}),"\n",(0,s.jsx)(e.li,{children:"Python scripting via Omniverse API for procedural generation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Practical Workflow"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Author in URDF + Xacro"}),": Easiest to write, best ROS 2 tool support"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Convert to SDF"}),": Use ",(0,s.jsx)(e.code,{children:"gz sdf -p robot.urdf > robot.sdf"})," for Gazebo simulation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Import to USD"}),": Use Isaac Sim's URDF Importer for Omniverse workflows"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["In this chapter, we focus on ",(0,s.jsx)(e.strong,{children:"URDF + Xacro"})," as the authoring format, then show conversion to SDF and USD."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"2-urdf-fundamentals",children:"2. URDF Fundamentals"}),"\n",(0,s.jsx)(e.h3,{id:"21-anatomy-of-a-urdf-file",children:"2.1 Anatomy of a URDF File"}),"\n",(0,s.jsx)(e.p,{children:"A URDF file is an XML document with three core elements:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"<robot>"})}),": Root element containing the robot's name"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"<link>"})}),": Rigid body with visual, collision, and inertial properties"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"<joint>"})}),": Connection between two links with motion constraints"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Minimal Example"})," (2-link planar arm):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_arm">\n\n  \x3c!-- Link 1: Fixed Base --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0"\n               iyy="0.001" iyz="0.0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Link 2: Upper Arm --\x3e\n  <link name="upper_arm">\n    <visual>\n      <origin xyz="0.25 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.5 0.08 0.08"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0.25 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.5 0.08 0.08"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0.25 0 0" rpy="0 0 0"/>\n      <mass value="2.0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0"\n               iyy="0.17" iyz="0.0" izz="0.17"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint 1: Shoulder (Revolute) --\x3e\n  <joint name="shoulder_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="upper_arm"/>\n    <origin xyz="0 0 0.05" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="100.0" velocity="2.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Key Concepts"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"<origin>"})}),": Homogeneous transform (translation ",(0,s.jsx)(e.code,{children:"xyz"}),", rotation ",(0,s.jsx)(e.code,{children:"rpy"})," in radians)"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["For ",(0,s.jsx)(e.code,{children:"<visual>"})," and ",(0,s.jsx)(e.code,{children:"<collision>"}),": offset from link frame"]}),"\n",(0,s.jsxs)(e.li,{children:["For ",(0,s.jsx)(e.code,{children:"<joint>"}),": transform from parent link to joint frame"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"<geometry>"})}),": Primitive shapes or mesh files"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Primitives: ",(0,s.jsx)(e.code,{children:"<box>"}),", ",(0,s.jsx)(e.code,{children:"<cylinder>"}),", ",(0,s.jsx)(e.code,{children:"<sphere>"})]}),"\n",(0,s.jsxs)(e.li,{children:["Meshes: ",(0,s.jsx)(e.code,{children:'<mesh filename="package://my_robot/meshes/arm.stl" scale="1 1 1"/>'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"<inertial>"})}),": Required for dynamic simulation"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"<mass>"}),": kilograms"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"<inertia>"}),": 3\xd73 inertia tensor (only upper triangle needed due to symmetry)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<joint>"})," types"]}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"revolute"}),": Rotating hinge with joint limits"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"prismatic"}),": Sliding joint (e.g., linear actuator)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"continuous"}),": Rotating hinge without limits (e.g., wheel)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"fixed"}),": Rigidly attached (0 DOF)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"floating"}),": 6-DOF free motion (rarely used, for mobile bases)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"planar"}),": 2D motion in a plane"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"22-coordinate-frames-and-transforms",children:"2.2 Coordinate Frames and Transforms"}),"\n",(0,s.jsxs)(e.p,{children:["URDF uses ",(0,s.jsx)(e.strong,{children:"right-handed coordinate systems"})," with transforms defined by:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-math",children:"T = \\begin{bmatrix}\nR_{3 \\times 3} & t_{3 \\times 1} \\\\\n0_{1 \\times 3} & 1\n\\end{bmatrix}\n"})}),"\n",(0,s.jsx)(e.p,{children:"Where:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"$R$ is the rotation matrix (computed from roll-pitch-yaw Euler angles)"}),"\n",(0,s.jsxs)(e.li,{children:["$t$ is the translation vector ",(0,s.jsx)(e.code,{children:"[x, y, z]"})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Roll-Pitch-Yaw Convention"})," (",(0,s.jsx)(e.code,{children:'rpy="r p y"'})," in radians):"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Roll"})," (rotation around X-axis): Right-hand rule, thumb along +X"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Pitch"})," (rotation around Y-axis): Right-hand rule, thumb along +Y"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Yaw"})," (rotation around Z-axis): Right-hand rule, thumb along +Z"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Applied in order"}),": Yaw \u2192 Pitch \u2192 Roll (intrinsic rotations) or Roll \u2192 Pitch \u2192 Yaw (extrinsic rotations)."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example"}),": Joint at ",(0,s.jsx)(e.code,{children:'<origin xyz="0 0 0.5" rpy="0 1.57 0"/>'})," means:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Translate 0.5m along parent's Z-axis"}),"\n",(0,s.jsx)(e.li,{children:"Rotate 90\xb0 (\u03c0/2 radians) around Y-axis"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Common Mistake"}),": Confusing link frame vs. visual/collision frame:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- WRONG: Inertial origin should match center of mass, not link origin --\x3e\n<link name="arm">\n  <visual>\n    <origin xyz="0.25 0 0" rpy="0 0 0"/>  \x3c!-- Box center at +0.25m --\x3e\n    <geometry><box size="0.5 0.1 0.1"/></geometry>\n  </visual>\n  <inertial>\n    <origin xyz="0 0 0" rpy="0 0 0"/>  \x3c!-- WRONG! Should be xyz="0.25 0 0" --\x3e\n    <mass value="2.0"/>\n    ...\n  </inertial>\n</link>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"23-calculating-inertia-tensors",children:"2.3 Calculating Inertia Tensors"}),"\n",(0,s.jsx)(e.p,{children:"For rigid bodies, the inertia tensor $I$ is:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-math",children:"I = \\begin{bmatrix}\nI_{xx} & I_{xy} & I_{xz} \\\\\nI_{xy} & I_{yy} & I_{yz} \\\\\nI_{xz} & I_{yz} & I_{zz}\n\\end{bmatrix}\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Moments of Inertia"})," (diagonal elements):"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"$I_{xx} = \\int (y^2 + z^2) , dm$"}),"\n",(0,s.jsx)(e.li,{children:"$I_{yy} = \\int (x^2 + z^2) , dm$"}),"\n",(0,s.jsx)(e.li,{children:"$I_{zz} = \\int (x^2 + y^2) , dm$"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Products of Inertia"})," (off-diagonal):"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"$I_{xy} = -\\int xy , dm$"}),"\n",(0,s.jsx)(e.li,{children:"$I_{xz} = -\\int xz , dm$"}),"\n",(0,s.jsx)(e.li,{children:"$I_{yz} = -\\int yz , dm$"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Common Shapes"})," (at center of mass):"]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Shape"}),(0,s.jsx)(e.th,{children:"Dimensions"}),(0,s.jsx)(e.th,{children:"$I_{xx}$"}),(0,s.jsx)(e.th,{children:"$I_{yy}$"}),(0,s.jsx)(e.th,{children:"$I_{zz}$"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Box"})}),(0,s.jsx)(e.td,{children:"width $w$, depth $d$, height $h$"}),(0,s.jsx)(e.td,{children:"$\\frac{m}{12}(d^2 + h^2)$"}),(0,s.jsx)(e.td,{children:"$\\frac{m}{12}(w^2 + h^2)$"}),(0,s.jsx)(e.td,{children:"$\\frac{m}{12}(w^2 + d^2)$"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.strong,{children:"Cylinder"})," (Z-axis)"]}),(0,s.jsx)(e.td,{children:"radius $r$, length $l$"}),(0,s.jsx)(e.td,{children:"$\\frac{m}{12}(3r^2 + l^2)$"}),(0,s.jsx)(e.td,{children:"$\\frac{m}{12}(3r^2 + l^2)$"}),(0,s.jsx)(e.td,{children:"$\\frac{m r^2}{2}$"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Sphere"})}),(0,s.jsx)(e.td,{children:"radius $r$"}),(0,s.jsx)(e.td,{children:"$\\frac{2mr^2}{5}$"}),(0,s.jsx)(e.td,{children:"$\\frac{2mr^2}{5}$"}),(0,s.jsx)(e.td,{children:"$\\frac{2mr^2}{5}$"})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example"}),": 2kg box (0.5m \xd7 0.1m \xd7 0.1m):"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"$I_{xx} = \\frac{2}{12}(0.1^2 + 0.1^2) = 0.00333$ kg\xb7m\xb2"}),"\n",(0,s.jsx)(e.li,{children:"$I_{yy} = \\frac{2}{12}(0.5^2 + 0.1^2) = 0.0433$ kg\xb7m\xb2"}),"\n",(0,s.jsx)(e.li,{children:"$I_{zz} = \\frac{2}{12}(0.5^2 + 0.1^2) = 0.0433$ kg\xb7m\xb2"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Parallel Axis Theorem"}),": If inertia at COM is $I_{\\text{COM}}$, inertia at offset $d$ is:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-math",children:"I = I_\\{\\text\\{COM\\}\\} + m d^2\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Tool"}),": Use MeshLab or Blender to compute inertia from STL meshes with assumed density."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"3-building-a-humanoid-urdf",children:"3. Building a Humanoid URDF"}),"\n",(0,s.jsx)(e.h3,{id:"31-kinematic-chain-design",children:"3.1 Kinematic Chain Design"}),"\n",(0,s.jsxs)(e.p,{children:["Humanoid robots have a ",(0,s.jsx)(e.strong,{children:"tree topology"})," with the torso as the root:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"                    torso (base_link)\n                      |\n         +------------+------------+\n         |            |            |\n      left_leg    right_leg     head\n         |            |\n    +----+----+  +----+----+\n    |    |    |  |    |    |\n   hip  knee ankle hip knee ankle\n    |         |   |         |\n  foot      foot foot      foot\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Standard DOF Allocation"})," (30 DOF humanoid):"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Legs (12 DOF)"}),": 6 per leg"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Hip: 3 DOF (roll, pitch, yaw)"}),"\n",(0,s.jsx)(e.li,{children:"Knee: 1 DOF (pitch)"}),"\n",(0,s.jsx)(e.li,{children:"Ankle: 2 DOF (pitch, roll)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Arms (14 DOF)"}),": 7 per arm"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Shoulder: 3 DOF (roll, pitch, yaw)"}),"\n",(0,s.jsx)(e.li,{children:"Elbow: 1 DOF (pitch)"}),"\n",(0,s.jsx)(e.li,{children:"Wrist: 2 DOF (pitch, yaw)"}),"\n",(0,s.jsx)(e.li,{children:"Gripper: 1 DOF (parallel jaw or underactuated hand)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Torso (2 DOF)"}),": Waist pitch, waist yaw"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Head (2 DOF)"}),": Neck pitch, neck yaw"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Simplified 12-DOF Version"})," (Chapter 2 quickstart):"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Legs: 6 DOF (3 per leg: hip pitch, knee pitch, ankle pitch)"}),"\n",(0,s.jsx)(e.li,{children:"Arms: 4 DOF (2 per leg: shoulder pitch, elbow pitch)"}),"\n",(0,s.jsx)(e.li,{children:"Torso/Head: 2 DOF (waist pitch, neck pitch)"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"32-complete-humanoid-urdf-structure",children:"3.2 Complete Humanoid URDF Structure"}),"\n",(0,s.jsx)(e.p,{children:"Let's build a 12-DOF humanoid with realistic inertial properties."}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"File"}),": ",(0,s.jsx)(e.code,{children:"urdf/humanoid_12dof.urdf"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="humanoid_12dof">\n\n  \x3c!-- ========== TORSO (BASE LINK) ========== --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n      <material name="torso_blue">\n        <color rgba="0.2 0.2 0.8 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="15.0"/>\n      <inertia ixx="0.45" ixy="0.0" ixz="0.0"\n               iyy="0.55" iyz="0.0" izz="0.25"/>\n    </inertial>\n  </link>\n\n  \x3c!-- ========== HEAD ========== --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n      <material name="head_gray">\n        <color rgba="0.7 0.7 0.7 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.00576" ixy="0.0" ixz="0.0"\n               iyy="0.00576" iyz="0.0" izz="0.00576"/>\n    </inertial>\n  </link>\n\n  <joint name="neck_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.25" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="10.0" velocity="2.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  \x3c!-- ========== LEFT LEG ========== --\x3e\n\n  \x3c!-- Left Hip Link --\x3e\n  <link name="left_hip">\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n      <material name="leg_gray">\n        <color rgba="0.5 0.5 0.5 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <mass value="3.0"/>\n      <inertia ixx="0.023" ixy="0.0" ixz="0.0"\n               iyy="0.023" iyz="0.0" izz="0.0024"/>\n    </inertial>\n  </link>\n\n  <joint name="left_hip_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_hip"/>\n    <origin xyz="0 0.1 -0.2" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="150.0" velocity="3.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  \x3c!-- Left Knee Link --\x3e\n  <link name="left_knee">\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.035"/>\n      </geometry>\n      <material name="leg_gray"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.035"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <mass value="2.0"/>\n      <inertia ixx="0.015" ixy="0.0" ixz="0.0"\n               iyy="0.015" iyz="0.0" izz="0.0012"/>\n    </inertial>\n  </link>\n\n  <joint name="left_knee_joint" type="revolute">\n    <parent link="left_hip"/>\n    <child link="left_knee"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="2.356" effort="150.0" velocity="3.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  \x3c!-- Left Ankle Link --\x3e\n  <link name="left_ankle">\n    <visual>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="foot_black">\n        <color rgba="0.1 0.1 0.1 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <mass value="1.0"/>\n      <inertia ixx="0.00067" ixy="0.0" ixz="0.0"\n               iyy="0.00208" iyz="0.0" izz="0.00242"/>\n    </inertial>\n  </link>\n\n  <joint name="left_ankle_joint" type="revolute">\n    <parent link="left_knee"/>\n    <child link="left_ankle"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.785" upper="0.785" effort="100.0" velocity="2.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  \x3c!-- ========== RIGHT LEG (SYMMETRIC) ========== --\x3e\n\n  <link name="right_hip">\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n      <material name="leg_gray"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <mass value="3.0"/>\n      <inertia ixx="0.023" ixy="0.0" ixz="0.0"\n               iyy="0.023" iyz="0.0" izz="0.0024"/>\n    </inertial>\n  </link>\n\n  <joint name="right_hip_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="right_hip"/>\n    <origin xyz="0 -0.1 -0.2" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="150.0" velocity="3.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="right_knee">\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.035"/>\n      </geometry>\n      <material name="leg_gray"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.035"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <mass value="2.0"/>\n      <inertia ixx="0.015" ixy="0.0" ixz="0.0"\n               iyy="0.015" iyz="0.0" izz="0.0012"/>\n    </inertial>\n  </link>\n\n  <joint name="right_knee_joint" type="revolute">\n    <parent link="right_hip"/>\n    <child link="right_knee"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="2.356" effort="150.0" velocity="3.0"/>\n    <dynamics damping="1.0" friction="0.2"/>\n  </joint>\n\n  <link name="right_ankle">\n    <visual>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="foot_black"/>\n    </visual>\n    <collision>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <mass value="1.0"/>\n      <inertia ixx="0.00067" ixy="0.0" ixz="0.0"\n               iyy="0.00208" iyz="0.0" izz="0.00242"/>\n    </inertial>\n  </link>\n\n  <joint name="right_ankle_joint" type="revolute">\n    <parent link="right_knee"/>\n    <child link="right_ankle"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.785" upper="0.785" effort="100.0" velocity="2.0"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  \x3c!-- ========== LEFT ARM ========== --\x3e\n\n  <link name="left_shoulder">\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n      <material name="arm_gray">\n        <color rgba="0.6 0.6 0.6 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <mass value="1.5"/>\n      <inertia ixx="0.0072" ixy="0.0" ixz="0.0"\n               iyy="0.0072" iyz="0.0" izz="0.00068"/>\n    </inertial>\n  </link>\n\n  <joint name="left_shoulder_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_shoulder"/>\n    <origin xyz="0 0.15 0.15" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="80.0" velocity="2.5"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="left_elbow">\n    <visual>\n      <origin xyz="0 0 -0.1" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.025"/>\n      </geometry>\n      <material name="arm_gray"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.1" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.025"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.1" rpy="0 0 0"/>\n      <mass value="1.0"/>\n      <inertia ixx="0.0033" ixy="0.0" ixz="0.0"\n               iyy="0.0033" iyz="0.0" izz="0.00031"/>\n    </inertial>\n  </link>\n\n  <joint name="left_elbow_joint" type="revolute">\n    <parent link="left_shoulder"/>\n    <child link="left_elbow"/>\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="2.356" effort="60.0" velocity="2.5"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n  \x3c!-- ========== RIGHT ARM (SYMMETRIC) ========== --\x3e\n\n  <link name="right_shoulder">\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n      <material name="arm_gray"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <mass value="1.5"/>\n      <inertia ixx="0.0072" ixy="0.0" ixz="0.0"\n               iyy="0.0072" iyz="0.0" izz="0.00068"/>\n    </inertial>\n  </link>\n\n  <joint name="right_shoulder_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="right_shoulder"/>\n    <origin xyz="0 -0.15 0.15" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="80.0" velocity="2.5"/>\n    <dynamics damping="0.5" friction="0.1"/>\n  </joint>\n\n  <link name="right_elbow">\n    <visual>\n      <origin xyz="0 0 -0.1" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.025"/>\n      </geometry>\n      <material name="arm_gray"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.1" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.2" radius="0.025"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.1" rpy="0 0 0"/>\n      <mass value="1.0"/>\n      <inertia ixx="0.0033" ixy="0.0" ixz="0.0"\n               iyy="0.0033" iyz="0.0" izz="0.00031"/>\n    </inertial>\n  </link>\n\n  <joint name="right_elbow_joint" type="revolute">\n    <parent link="right_shoulder"/>\n    <child link="right_elbow"/>\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="2.356" effort="60.0" velocity="2.5"/>\n    <dynamics damping="0.3" friction="0.05"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Key Features"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Realistic Masses"}),": Total mass ~30 kg (15kg torso + limbs)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Accurate Inertia"}),": Computed using cylinder/box formulas at correct COM"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint Limits"}),": Physiologically realistic (knee: 0-135\xb0, elbow: 0-135\xb0)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Effort Limits"}),": Hip/knee 150 Nm (high torque for locomotion), arms 60-80 Nm"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Damping/Friction"}),": Higher for legs (stability), lower for arms (dexterity)"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"33-adding-sensors-cameras-imus-lidar",children:"3.3 Adding Sensors (Cameras, IMUs, LiDAR)"}),"\n",(0,s.jsxs)(e.p,{children:["Sensors are attached as ",(0,s.jsx)(e.strong,{children:"fixed joints"})," to links with proper frame conventions."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example"}),": RGB-D camera on head:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Camera Link --\x3e\n<link name="camera_link">\n  <visual>\n    <geometry>\n      <box size="0.02 0.08 0.02"/>\n    </geometry>\n    <material name="camera_black">\n      <color rgba="0.1 0.1 0.1 1.0"/>\n    </material>\n  </visual>\n  <inertial>\n    <mass value="0.1"/>\n    <inertia ixx="0.00001" ixy="0.0" ixz="0.0"\n             iyy="0.00001" iyz="0.0" izz="0.00001"/>\n  </inertial>\n</link>\n\n<joint name="camera_joint" type="fixed">\n  <parent link="head"/>\n  <child link="camera_link"/>\n  <origin xyz="0.13 0 0" rpy="0 0 0"/>\n</joint>\n\n\x3c!-- Optical Frame (ROS convention: Z forward, X right, Y down) --\x3e\n<link name="camera_optical_frame"/>\n\n<joint name="camera_optical_joint" type="fixed">\n  <parent link="camera_link"/>\n  <child link="camera_optical_frame"/>\n  <origin xyz="0 0 0" rpy="-1.57 0 -1.57"/>\n</joint>\n\n\x3c!-- Gazebo Plugin (for simulation) --\x3e\n<gazebo reference="camera_link">\n  <sensor type="camera" name="head_camera">\n    <update_rate>30.0</update_rate>\n    <camera name="head">\n      <horizontal_fov>1.3962634</horizontal_fov>\n      <image>\n        <width>640</width>\n        <height>480</height>\n        <format>R8G8B8</format>\n      </image>\n      <clip>\n        <near>0.02</near>\n        <far>10.0</far>\n      </clip>\n    </camera>\n    <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\n      <ros>\n        <namespace>/humanoid</namespace>\n        <remapping>~/image_raw:=camera/image_raw</remapping>\n        <remapping>~/camera_info:=camera/camera_info</remapping>\n      </ros>\n      <frame_name>camera_optical_frame</frame_name>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"IMU in Torso"})," (standard for balance control):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<link name="imu_link"/>\n\n<joint name="imu_joint" type="fixed">\n  <parent link="base_link"/>\n  <child link="imu_link"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="imu_link">\n  <sensor name="imu_sensor" type="imu">\n    <always_on>true</always_on>\n    <update_rate>100.0</update_rate>\n    <plugin name="imu_plugin" filename="libgazebo_ros_imu_sensor.so">\n      <ros>\n        <namespace>/humanoid</namespace>\n        <remapping>~/out:=imu</remapping>\n      </ros>\n      <frame_name>imu_link</frame_name>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"4-xacro-for-modular-descriptions",children:"4. Xacro for Modular Descriptions"}),"\n",(0,s.jsx)(e.h3,{id:"41-why-xacro",children:"4.1 Why Xacro?"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Problems with Raw URDF"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Repetition"}),": Left/right symmetric limbs copy-pasted with tiny differences"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Hard-coded Values"}),": Changing leg length requires editing 10+ files"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"No Reusability"}),": Can't share arm definitions between robot variants"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Xacro (XML Macros)"})," solves this with:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Properties"}),": Variables like ",(0,s.jsx)(e.code,{children:"${leg_length}"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Macros"}),": Parameterized templates for limbs"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Includes"}),": Compose robot from modular files"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Math"}),": Compute inertia from parameters"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example"}),": Parameterized leg macro:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_xacro">\n\n  \x3c!-- ========== PROPERTIES ========== --\x3e\n  <xacro:property name="leg_length" value="0.6"/>\n  <xacro:property name="hip_length" value="${leg_length * 0.5}"/>\n  <xacro:property name="knee_length" value="${leg_length * 0.5}"/>\n  <xacro:property name="leg_mass" value="5.0"/>\n  <xacro:property name="leg_radius" value="0.04"/>\n\n  \x3c!-- ========== MACROS ========== --\x3e\n  <xacro:macro name="leg" params="prefix reflect">\n\n    \x3c!-- Hip Link --\x3e\n    <link name="${prefix}_hip">\n      <visual>\n        <origin xyz="0 0 ${-hip_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${hip_length}" radius="${leg_radius}"/>\n        </geometry>\n        <material name="leg_gray">\n          <color rgba="0.5 0.5 0.5 1.0"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="0 0 ${-hip_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${hip_length}" radius="${leg_radius}"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <origin xyz="0 0 ${-hip_length/2}" rpy="0 0 0"/>\n        <mass value="${leg_mass/2}"/>\n        <inertia ixx="${(leg_mass/2) * (3*leg_radius*leg_radius + hip_length*hip_length) / 12}"\n                 ixy="0.0" ixz="0.0"\n                 iyy="${(leg_mass/2) * (3*leg_radius*leg_radius + hip_length*hip_length) / 12}"\n                 iyz="0.0"\n                 izz="${(leg_mass/2) * leg_radius * leg_radius / 2}"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_hip_joint" type="revolute">\n      <parent link="base_link"/>\n      <child link="${prefix}_hip"/>\n      <origin xyz="0 ${reflect * 0.1} -0.2" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="-1.57" upper="1.57" effort="150.0" velocity="3.0"/>\n      <dynamics damping="1.0" friction="0.2"/>\n    </joint>\n\n    \x3c!-- Knee Link --\x3e\n    <link name="${prefix}_knee">\n      <visual>\n        <origin xyz="0 0 ${-knee_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${knee_length}" radius="${leg_radius * 0.9}"/>\n        </geometry>\n        <material name="leg_gray"/>\n      </visual>\n      <collision>\n        <origin xyz="0 0 ${-knee_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${knee_length}" radius="${leg_radius * 0.9}"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <origin xyz="0 0 ${-knee_length/2}" rpy="0 0 0"/>\n        <mass value="${leg_mass/2}"/>\n        <inertia ixx="${(leg_mass/2) * (3*(leg_radius*0.9)*(leg_radius*0.9) + knee_length*knee_length) / 12}"\n                 ixy="0.0" ixz="0.0"\n                 iyy="${(leg_mass/2) * (3*(leg_radius*0.9)*(leg_radius*0.9) + knee_length*knee_length) / 12}"\n                 iyz="0.0"\n                 izz="${(leg_mass/2) * (leg_radius*0.9) * (leg_radius*0.9) / 2}"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_knee_joint" type="revolute">\n      <parent link="${prefix}_hip"/>\n      <child link="${prefix}_knee"/>\n      <origin xyz="0 0 ${-hip_length}" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="0.0" upper="2.356" effort="150.0" velocity="3.0"/>\n      <dynamics damping="1.0" friction="0.2"/>\n    </joint>\n\n    \x3c!-- Ankle/Foot --\x3e\n    <link name="${prefix}_ankle">\n      <visual>\n        <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n        <geometry>\n          <box size="0.15 0.08 0.05"/>\n        </geometry>\n        <material name="foot_black">\n          <color rgba="0.1 0.1 0.1 1.0"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n        <geometry>\n          <box size="0.15 0.08 0.05"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n        <mass value="1.0"/>\n        <inertia ixx="0.00067" ixy="0.0" ixz="0.0"\n                 iyy="0.00208" iyz="0.0" izz="0.00242"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_ankle_joint" type="revolute">\n      <parent link="${prefix}_knee"/>\n      <child link="${prefix}_ankle"/>\n      <origin xyz="0 0 ${-knee_length}" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="-0.785" upper="0.785" effort="100.0" velocity="2.0"/>\n      <dynamics damping="0.5" friction="0.1"/>\n    </joint>\n\n  </xacro:macro>\n\n  \x3c!-- ========== TORSO ========== --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n      <material name="torso_blue">\n        <color rgba="0.2 0.2 0.8 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="15.0"/>\n      <inertia ixx="0.45" ixy="0.0" ixz="0.0"\n               iyy="0.55" iyz="0.0" izz="0.25"/>\n    </inertial>\n  </link>\n\n  \x3c!-- ========== INSTANTIATE LEGS ========== --\x3e\n  <xacro:leg prefix="left" reflect="1"/>\n  <xacro:leg prefix="right" reflect="-1"/>\n\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Key Features"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"${property}"})}),": Substitutes variable values"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"${expression}"})}),": Evaluates math (e.g., ",(0,s.jsx)(e.code,{children:"${leg_length * 0.5}"}),")"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:'params="prefix reflect"'})}),": Macro parameters"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"reflect"})}),": Multiplies Y-offset by \xb11 for left/right symmetry"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Convert Xacro to URDF"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run xacro xacro humanoid.xacro > humanoid.urdf\n"})}),"\n",(0,s.jsx)(e.h3,{id:"42-advanced-xacro-patterns",children:"4.2 Advanced Xacro Patterns"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Include External Files"})," (modular design):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- main.xacro --\x3e\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="my_robot">\n  <xacro:include filename="$(find my_robot_description)/urdf/leg.xacro"/>\n  <xacro:include filename="$(find my_robot_description)/urdf/arm.xacro"/>\n  <xacro:include filename="$(find my_robot_description)/urdf/sensors.xacro"/>\n\n  <link name="base_link">...</link>\n\n  <xacro:leg prefix="left" reflect="1" length="0.8"/>\n  <xacro:leg prefix="right" reflect="-1" length="0.8"/>\n  <xacro:arm prefix="left" reflect="1"/>\n  <xacro:arm prefix="right" reflect="-1"/>\n  <xacro:camera_sensor parent="head" xyz="0.12 0 0"/>\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Conditional Macros"})," (optional sensors):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<xacro:property name="use_lidar" value="true"/>\n\n<xacro:if value="${use_lidar}">\n  <link name="lidar_link">\n    \x3c!-- LiDAR definition --\x3e\n  </link>\n  <joint name="lidar_joint" type="fixed">\n    <parent link="head"/>\n    <child link="lidar_link"/>\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\n  </joint>\n</xacro:if>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"External YAML Properties"})," (load from file):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# config/robot_params.yaml\nleg_length: 0.75\narm_length: 0.6\ntorso_mass: 18.0\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Load YAML --\x3e\n<xacro:property name="config" value="${load_yaml(\'$(find my_robot)/config/robot_params.yaml\')}"/>\n\n<xacro:property name="leg_length" value="${config[\'leg_length\']}"/>\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"5-sdf-format-and-urdfsdf-conversion",children:"5. SDF Format and URDF\u2192SDF Conversion"}),"\n",(0,s.jsx)(e.h3,{id:"51-sdf-advantages-over-urdf",children:"5.1 SDF Advantages Over URDF"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Simulation Description Format (SDF)"})," is Gazebo's native format with key improvements:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Multi-Model Support"}),": One file can define multiple robots and static objects"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Native Sensor Definitions"}),": Cameras, LiDAR, contact sensors without ",(0,s.jsx)(e.code,{children:"<gazebo>"})," tags"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Explicit Physics"}),": Friction coefficients, contact stiffness, solver parameters"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Nested Models"}),": Hierarchical composition (e.g., gripper as sub-model of arm)"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"SDF Example"})," (simplified humanoid):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.9">\n  <model name="humanoid_sdf">\n\n    \x3c!-- Base Link --\x3e\n    <link name="base_link">\n      <pose>0 0 1.0 0 0 0</pose>\n      <inertial>\n        <mass>15.0</mass>\n        <inertia>\n          <ixx>0.45</ixx>\n          <iyy>0.55</iyy>\n          <izz>0.25</izz>\n          <ixy>0</ixy>\n          <ixz>0</ixz>\n          <iyz>0</iyz>\n        </inertia>\n      </inertial>\n      <visual name="visual">\n        <geometry>\n          <box>\n            <size>0.3 0.2 0.4</size>\n          </box>\n        </geometry>\n        <material>\n          <ambient>0.2 0.2 0.8 1</ambient>\n          <diffuse>0.2 0.2 0.8 1</diffuse>\n        </material>\n      </visual>\n      <collision name="collision">\n        <geometry>\n          <box>\n            <size>0.3 0.2 0.4</size>\n          </box>\n        </geometry>\n        <surface>\n          <friction>\n            <ode>\n              <mu>0.8</mu>\n              <mu2>0.8</mu2>\n            </ode>\n          </friction>\n          <contact>\n            <ode>\n              <kp>1e6</kp>\n              <kd>1e3</kd>\n            </ode>\n          </contact>\n        </surface>\n      </collision>\n\n      \x3c!-- IMU Sensor --\x3e\n      <sensor name="imu_sensor" type="imu">\n        <always_on>true</always_on>\n        <update_rate>100</update_rate>\n        <imu>\n          <angular_velocity>\n            <x>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>0.009</stddev>\n              </noise>\n            </x>\n            \x3c!-- Y and Z similar --\x3e\n          </angular_velocity>\n          <linear_acceleration>\n            <x>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>0.017</stddev>\n              </noise>\n            </x>\n            \x3c!-- Y and Z similar --\x3e\n          </linear_acceleration>\n        </imu>\n      </sensor>\n    </link>\n\n    \x3c!-- Hip Joint --\x3e\n    <joint name="left_hip_joint" type="revolute">\n      <parent>base_link</parent>\n      <child>left_hip</child>\n      <pose>0 0.1 -0.2 0 0 0</pose>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>150</effort>\n          <velocity>3.0</velocity>\n        </limit>\n        <dynamics>\n          <damping>1.0</damping>\n          <friction>0.2</friction>\n        </dynamics>\n      </axis>\n    </joint>\n\n    \x3c!-- Left Hip Link (simplified) --\x3e\n    <link name="left_hip">\n      <pose relative_to="left_hip_joint">0 0 -0.15 0 0 0</pose>\n      <inertial>\n        <mass>3.0</mass>\n        <inertia>\n          <ixx>0.023</ixx>\n          <iyy>0.023</iyy>\n          <izz>0.0024</izz>\n        </inertia>\n      </inertial>\n      <visual name="visual">\n        <geometry>\n          <cylinder>\n            <radius>0.04</radius>\n            <length>0.3</length>\n          </cylinder>\n        </geometry>\n      </visual>\n      <collision name="collision">\n        <geometry>\n          <cylinder>\n            <radius>0.04</radius>\n            <length>0.3</length>\n          </cylinder>\n        </geometry>\n      </collision>\n    </link>\n\n    \x3c!-- Plugins --\x3e\n    <plugin name="gazebo_ros_joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">\n      <ros>\n        <namespace>/humanoid</namespace>\n        <remapping>~/out:=joint_states</remapping>\n      </ros>\n      <update_rate>50</update_rate>\n    </plugin>\n\n  </model>\n</sdf>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Key Differences from URDF"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<pose>"})," instead of ",(0,s.jsx)(e.code,{children:"<origin>"})]}),": 6-DOF transform (x y z roll pitch yaw)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"relative_to"})," attribute"]}),": Explicit frame references (URDF infers from joint tree)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<surface>"})," tags"]}),": Friction (",(0,s.jsx)(e.code,{children:"mu"}),", ",(0,s.jsx)(e.code,{children:"mu2"}),"), contact stiffness (",(0,s.jsx)(e.code,{children:"kp"}),", ",(0,s.jsx)(e.code,{children:"kd"}),")"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Sensor noise"}),": Gaussian noise models directly in sensor definition"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"52-urdfsdf-conversion",children:"5.2 URDF\u2192SDF Conversion"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Using Gazebo Tools"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Convert URDF to SDF (prints to stdout)\ngz sdf -p humanoid.urdf > humanoid.sdf\n\n# Validate SDF\ngz sdf --check humanoid.sdf\n\n# Convert with verbose error messages\ngz sdf -p humanoid.urdf -v 3 > humanoid.sdf\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Common Conversion Issues"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsxs)(e.strong,{children:["Missing ",(0,s.jsx)(e.code,{children:"<gazebo>"})," tags"]}),": Friction/damping not in URDF \u2192 zero friction in SDF"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Add ",(0,s.jsx)(e.code,{children:'<gazebo reference="link_name"><mu1>0.8</mu1><mu2>0.8</mu2></gazebo>'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Material colors"}),": URDF ",(0,s.jsx)(e.code,{children:"<material>"})," doesn't convert to SDF ",(0,s.jsx)(e.code,{children:"<ambient>/<diffuse>"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Manually add ",(0,s.jsx)(e.code,{children:"<material><ambient>R G B A</ambient></material>"})," in SDF"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Plugin parameters"}),": URDF ",(0,s.jsx)(e.code,{children:"<gazebo><plugin>"})," tags may need adjustment for SDF syntax"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Frame semantics"}),": URDF joint origins are parent-to-child, SDF ",(0,s.jsx)(e.code,{children:"<pose>"})," is child-in-parent"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Usually handled correctly"})," by ",(0,s.jsx)(e.code,{children:"gz sdf"}),", but check complex kinematic chains"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Editing Converted SDF"})," (add sensor noise):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- After conversion, manually add noise to IMU --\x3e\n<sensor name="imu_sensor" type="imu">\n  <imu>\n    <angular_velocity>\n      <x>\n        <noise type="gaussian">\n          <mean>0.0</mean>\n          <stddev>0.009</stddev>  \x3c!-- 0.5 deg/s noise --\x3e\n        </noise>\n      </x>\n      \x3c!-- Repeat for y, z --\x3e\n    </angular_velocity>\n  </imu>\n</sensor>\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"6-validation-and-debugging-tools",children:"6. Validation and Debugging Tools"}),"\n",(0,s.jsx)(e.h3,{id:"61-check_urdf",children:"6.1 check_urdf"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Purpose"}),": Parse URDF and verify XML structure, joint tree topology, and required tags."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Usage"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Basic check\ncheck_urdf humanoid.urdf\n\n# Output on success:\n# robot name is: humanoid_12dof\n# ---------- Successfully Parsed XML ---------------\n# root Link: base_link has 3 child(ren)\n#     child(1):  head\n#     child(2):  left_hip\n#         child(1):  left_knee\n#             child(1):  left_ankle\n#     child(3):  right_hip\n#         child(1):  right_knee\n#             child(1):  right_ankle\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Common Errors"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Missing inertia"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Error: link 'left_hip' has no inertia tag\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Add ",(0,s.jsx)(e.code,{children:"<inertial><mass/><inertia/></inertial>"})," to every link"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Broken parent-child chain"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Error: joint 'left_knee_joint' references unknown link 'left_thigh'\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Typo in ",(0,s.jsx)(e.code,{children:"<parent>"})," or ",(0,s.jsx)(e.code,{children:"<child>"})," tag"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Invalid XML"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Error: Tag 'origin' not closed\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Ensure ",(0,s.jsx)(e.code,{children:"<origin ... />"})," has closing ",(0,s.jsx)(e.code,{children:"/>"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"62-urdf_to_graphviz",children:"6.2 urdf_to_graphviz"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Purpose"}),": Visualize kinematic tree as a graph (helpful for debugging complex robots)."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Usage"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Generate PDF visualization\nurdf_to_graphviz humanoid.urdf\n\n# Output: humanoid_12dof.pdf (tree graph)\n# Open with: evince humanoid_12dof.pdf\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Interpreting Output"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Nodes"}),": Links (boxes)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Edges"}),": Joints (arrows from parent to child)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Colors"}),": Different colors for joint types (revolute, fixed, prismatic)"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example"})," (simplified text representation):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"base_link\n  \u251c\u2500\u2500 [neck_joint] \u2192 head\n  \u251c\u2500\u2500 [left_hip_joint] \u2192 left_hip\n  \u2502     \u2514\u2500\u2500 [left_knee_joint] \u2192 left_knee\n  \u2502           \u2514\u2500\u2500 [left_ankle_joint] \u2192 left_ankle\n  \u2514\u2500\u2500 [right_hip_joint] \u2192 right_hip\n        \u2514\u2500\u2500 [right_knee_joint] \u2192 right_knee\n              \u2514\u2500\u2500 [right_ankle_joint] \u2192 right_ankle\n"})}),"\n",(0,s.jsx)(e.h3,{id:"63-rviz-visualization",children:"6.3 RViz Visualization"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Purpose"}),": Render robot in 3D with interactive joint sliders."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Steps"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Launch RViz"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run rviz2 rviz2\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add Robot Model Display"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'Click "Add" \u2192 "RobotModel"'}),"\n",(0,s.jsxs)(e.li,{children:['Set "Fixed Frame" to ',(0,s.jsx)(e.code,{children:"base_link"})]}),"\n",(0,s.jsxs)(e.li,{children:['Set "Robot Description" topic to ',(0,s.jsx)(e.code,{children:"/robot_description"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Publish URDF to /robot_description"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'ros2 run robot_state_publisher robot_state_publisher \\\n  --ros-args -p robot_description:="$(xacro humanoid.xacro)"\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add Joint State Publisher GUI"})," (interactive sliders):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'ros2 run joint_state_publisher_gui joint_state_publisher_gui \\\n  --ros-args -p robot_description:="$(xacro humanoid.xacro)"\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Common Issues"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:'"No transform from X to Y"'}),": Missing ",(0,s.jsx)(e.code,{children:"robot_state_publisher"})," node"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Red links"}),": Missing mesh files or incorrect ",(0,s.jsx)(e.code,{children:"package://"})," path"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Flipped joints"}),": Check ",(0,s.jsx)(e.code,{children:'<axis xyz="..."/>'})," direction"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"64-gazebo-simulation-validation",children:"6.4 Gazebo Simulation Validation"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Purpose"}),": Test physics, collisions, and sensor plugins."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Steps"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Launch Gazebo with URDF"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"gz sim -v 4\n# In Gazebo GUI: File \u2192 Insert \u2192 Browse to humanoid.sdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Check for Errors"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Terminal will show warnings like:\n# [Wrn] Link 'left_hip' has zero mass\n# [Err] Joint 'left_knee_joint' exceeds effort limit\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Validate Inertia"})," (run simulation and check for):"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unstable behavior"}),": Legs vibrating \u2192 inertia too low"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Slow response"}),": Limbs sluggish \u2192 inertia too high"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Collapsing"}),": Robot falls through floor \u2192 missing collision tags"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Test Sensors"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Check IMU publishing\nros2 topic hz /humanoid/imu  # Expected: 100 Hz\n\n# Check camera\nros2 topic hz /humanoid/camera/image_raw  # Expected: 30 Hz\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"65-isaac-sim-urdf-importer",children:"6.5 Isaac Sim URDF Importer"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Purpose"}),": Import URDF into NVIDIA Isaac Sim for high-fidelity rendering and PhysX dynamics."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Steps"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Launch Isaac Sim"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"~/.local/share/ov/pkg/isaac-sim-4.2.0/isaac-sim.sh\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Import URDF"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'Menu: "Isaac Utils" \u2192 "URDF Importer"'}),"\n",(0,s.jsxs)(e.li,{children:["Settings:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Import Inertia Tensor"}),": \u2705 (use URDF inertia)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fix Base Link"}),": \u274c (allow free motion for humanoids)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint Drive Type"}),": Position (for position control)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint Drive Strength"}),": 10000 (high stiffness for accurate tracking)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Validate Import"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'Check "Stage" panel: All links and joints present'}),"\n",(0,s.jsx)(e.li,{children:'Click "Play" \u2192 Robot should remain stable (not explode or fall through floor)'}),"\n",(0,s.jsx)(e.li,{children:'Select joint \u2192 Modify "targetPosition" \u2192 Verify motion'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Common Issues"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Exploding robot"}),": Inertia too low or joint damping zero"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Increase ",(0,s.jsx)(e.code,{children:'<dynamics damping="1.0"/>'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Frozen joints"}),": Joint drive strength too low"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Increase to 5000-20000 in importer settings"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Missing visuals"}),": Mesh file paths incorrect"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fix"}),": Use absolute paths or ",(0,s.jsx)(e.code,{children:"package://"})," with ",(0,s.jsx)(e.code,{children:"ROS_PACKAGE_PATH"})," set"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"7-hands-on-lab-build-your-own-humanoid-urdf",children:"7. Hands-On Lab: Build Your Own Humanoid URDF"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Objective"}),": Create a custom 12-DOF humanoid URDF from scratch, validate it, and simulate in RViz and Gazebo."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Time"}),": 5-7 hours"]}),"\n",(0,s.jsx)(e.h3,{id:"lab-setup",children:"Lab Setup"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Create workspace\ncd ~/ros2_ws/src\nros2 pkg create --build-type ament_python my_humanoid_description\ncd my_humanoid_description\nmkdir urdf launch meshes\n\n# Install dependencies\nsudo apt install ros-${ROS_DISTRO}-xacro \\\n                 ros-${ROS_DISTRO}-joint-state-publisher-gui \\\n                 ros-${ROS_DISTRO}-robot-state-publisher \\\n                 liburdfdom-tools  # provides check_urdf\n"})}),"\n",(0,s.jsx)(e.h3,{id:"step-1-define-robot-parameters-30-minutes",children:"Step 1: Define Robot Parameters (30 minutes)"}),"\n",(0,s.jsxs)(e.p,{children:["Create ",(0,s.jsx)(e.code,{children:"config/robot_dimensions.yaml"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# Torso\ntorso:\n  width: 0.3\n  depth: 0.2\n  height: 0.4\n  mass: 15.0\n\n# Legs\nleg:\n  hip_length: 0.3\n  knee_length: 0.3\n  foot_length: 0.15\n  foot_width: 0.08\n  hip_mass: 3.0\n  knee_mass: 2.0\n  foot_mass: 1.0\n  radius: 0.04\n\n# Arms\narm:\n  shoulder_length: 0.24\n  elbow_length: 0.2\n  shoulder_mass: 1.5\n  elbow_mass: 1.0\n  radius: 0.03\n\n# Head\nhead:\n  radius: 0.12\n  mass: 2.0\n"})}),"\n",(0,s.jsx)(e.h3,{id:"step-2-create-xacro-macros-2-hours",children:"Step 2: Create Xacro Macros (2 hours)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"File"}),": ",(0,s.jsx)(e.code,{children:"urdf/macros/leg.xacro"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  <xacro:macro name="leg" params="prefix reflect *origin">\n\n    \x3c!-- Hip Link --\x3e\n    <link name="${prefix}_hip">\n      <visual>\n        <origin xyz="0 0 ${-leg_hip_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_hip_length}" radius="${leg_radius}"/>\n        </geometry>\n        <material name="leg_gray">\n          <color rgba="0.5 0.5 0.5 1.0"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="0 0 ${-leg_hip_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_hip_length}" radius="${leg_radius}"/>\n        </geometry>\n      </collision>\n      <xacro:cylinder_inertia mass="${leg_hip_mass}"\n                              radius="${leg_radius}"\n                              length="${leg_hip_length}"\n                              xyz="0 0 ${-leg_hip_length/2}"/>\n    </link>\n\n    <joint name="${prefix}_hip_joint" type="revolute">\n      <xacro:insert_block name="origin"/>\n      <parent link="base_link"/>\n      <child link="${prefix}_hip"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="-1.57" upper="1.57" effort="150.0" velocity="3.0"/>\n      <dynamics damping="1.0" friction="0.2"/>\n    </joint>\n\n    \x3c!-- Knee Link --\x3e\n    <link name="${prefix}_knee">\n      <visual>\n        <origin xyz="0 0 ${-leg_knee_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_knee_length}" radius="${leg_radius * 0.9}"/>\n        </geometry>\n        <material name="leg_gray"/>\n      </visual>\n      <collision>\n        <origin xyz="0 0 ${-leg_knee_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_knee_length}" radius="${leg_radius * 0.9}"/>\n        </geometry>\n      </collision>\n      <xacro:cylinder_inertia mass="${leg_knee_mass}"\n                              radius="${leg_radius * 0.9}"\n                              length="${leg_knee_length}"\n                              xyz="0 0 ${-leg_knee_length/2}"/>\n    </link>\n\n    <joint name="${prefix}_knee_joint" type="revolute">\n      <parent link="${prefix}_hip"/>\n      <child link="${prefix}_knee"/>\n      <origin xyz="0 0 ${-leg_hip_length}" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="0.0" upper="2.356" effort="150.0" velocity="3.0"/>\n      <dynamics damping="1.0" friction="0.2"/>\n    </joint>\n\n    \x3c!-- Ankle/Foot --\x3e\n    <link name="${prefix}_foot">\n      <visual>\n        <origin xyz="${leg_foot_length/2} 0 -0.025" rpy="0 0 0"/>\n        <geometry>\n          <box size="${leg_foot_length} ${leg_foot_width} 0.05"/>\n        </geometry>\n        <material name="foot_black">\n          <color rgba="0.1 0.1 0.1 1.0"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="${leg_foot_length/2} 0 -0.025" rpy="0 0 0"/>\n        <geometry>\n          <box size="${leg_foot_length} ${leg_foot_width} 0.05"/>\n        </geometry>\n      </collision>\n      <xacro:box_inertia mass="${leg_foot_mass}"\n                         x="${leg_foot_length}" y="${leg_foot_width}" z="0.05"\n                         xyz="${leg_foot_length/2} 0 -0.025"/>\n    </link>\n\n    <joint name="${prefix}_ankle_joint" type="revolute">\n      <parent link="${prefix}_knee"/>\n      <child link="${prefix}_foot"/>\n      <origin xyz="0 0 ${-leg_knee_length}" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="-0.785" upper="0.785" effort="100.0" velocity="2.0"/>\n      <dynamics damping="0.5" friction="0.1"/>\n    </joint>\n\n  </xacro:macro>\n\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"File"}),": ",(0,s.jsx)(e.code,{children:"urdf/macros/inertia.xacro"})," (helper macros):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Cylinder Inertia --\x3e\n  <xacro:macro name="cylinder_inertia" params="mass radius length xyz">\n    <inertial>\n      <origin xyz="${xyz}" rpy="0 0 0"/>\n      <mass value="${mass}"/>\n      <inertia ixx="${mass * (3*radius*radius + length*length) / 12}"\n               ixy="0.0" ixz="0.0"\n               iyy="${mass * (3*radius*radius + length*length) / 12}"\n               iyz="0.0"\n               izz="${mass * radius * radius / 2}"/>\n    </inertial>\n  </xacro:macro>\n\n  \x3c!-- Box Inertia --\x3e\n  <xacro:macro name="box_inertia" params="mass x y z xyz">\n    <inertial>\n      <origin xyz="${xyz}" rpy="0 0 0"/>\n      <mass value="${mass}"/>\n      <inertia ixx="${mass * (y*y + z*z) / 12}"\n               ixy="0.0" ixz="0.0"\n               iyy="${mass * (x*x + z*z) / 12}"\n               iyz="0.0"\n               izz="${mass * (x*x + y*y) / 12}"/>\n    </inertial>\n  </xacro:macro>\n\n  \x3c!-- Sphere Inertia --\x3e\n  <xacro:macro name="sphere_inertia" params="mass radius">\n    <inertial>\n      <mass value="${mass}"/>\n      <inertia ixx="${2 * mass * radius * radius / 5}"\n               ixy="0.0" ixz="0.0"\n               iyy="${2 * mass * radius * radius / 5}"\n               iyz="0.0"\n               izz="${2 * mass * radius * radius / 5}"/>\n    </inertial>\n  </xacro:macro>\n\n</robot>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"step-3-assemble-main-urdf-1-hour",children:"Step 3: Assemble Main URDF (1 hour)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"File"}),": ",(0,s.jsx)(e.code,{children:"urdf/humanoid.xacro"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="my_humanoid">\n\n  \x3c!-- Load macros --\x3e\n  <xacro:include filename="$(find my_humanoid_description)/urdf/macros/inertia.xacro"/>\n  <xacro:include filename="$(find my_humanoid_description)/urdf/macros/leg.xacro"/>\n\n  \x3c!-- Load parameters --\x3e\n  <xacro:property name="config" value="${load_yaml(\'$(find my_humanoid_description)/config/robot_dimensions.yaml\')}"/>\n\n  <xacro:property name="torso_width" value="${config[\'torso\'][\'width\']}"/>\n  <xacro:property name="torso_depth" value="${config[\'torso\'][\'depth\']}"/>\n  <xacro:property name="torso_height" value="${config[\'torso\'][\'height\']}"/>\n  <xacro:property name="torso_mass" value="${config[\'torso\'][\'mass\']}"/>\n\n  <xacro:property name="leg_hip_length" value="${config[\'leg\'][\'hip_length\']}"/>\n  <xacro:property name="leg_knee_length" value="${config[\'leg\'][\'knee_length\']}"/>\n  <xacro:property name="leg_foot_length" value="${config[\'leg\'][\'foot_length\']}"/>\n  <xacro:property name="leg_foot_width" value="${config[\'leg\'][\'foot_width\']}"/>\n  <xacro:property name="leg_hip_mass" value="${config[\'leg\'][\'hip_mass\']}"/>\n  <xacro:property name="leg_knee_mass" value="${config[\'leg\'][\'knee_mass\']}"/>\n  <xacro:property name="leg_foot_mass" value="${config[\'leg\'][\'foot_mass\']}"/>\n  <xacro:property name="leg_radius" value="${config[\'leg\'][\'radius\']}"/>\n\n  \x3c!-- Torso (Base Link) --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="${torso_width} ${torso_depth} ${torso_height}"/>\n      </geometry>\n      <material name="torso_blue">\n        <color rgba="0.2 0.2 0.8 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="${torso_width} ${torso_depth} ${torso_height}"/>\n      </geometry>\n    </collision>\n    <xacro:box_inertia mass="${torso_mass}"\n                       x="${torso_width}" y="${torso_depth}" z="${torso_height}"\n                       xyz="0 0 0"/>\n  </link>\n\n  \x3c!-- Instantiate Legs --\x3e\n  <xacro:leg prefix="left" reflect="1">\n    <origin xyz="0 0.1 ${-torso_height/2}" rpy="0 0 0"/>\n  </xacro:leg>\n\n  <xacro:leg prefix="right" reflect="-1">\n    <origin xyz="0 -0.1 ${-torso_height/2}" rpy="0 0 0"/>\n  </xacro:leg>\n\n  \x3c!-- TODO: Add arms and head (left as exercise) --\x3e\n\n</robot>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"step-4-validation-1-hour",children:"Step 4: Validation (1 hour)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Convert Xacro to URDF\ncd ~/ros2_ws/src/my_humanoid_description\nros2 run xacro xacro urdf/humanoid.xacro > urdf/humanoid.urdf\n\n# Validate with check_urdf\ncheck_urdf urdf/humanoid.urdf\n\n# Generate kinematic tree visualization\nurdf_to_graphviz urdf/humanoid.urdf\nevince my_humanoid.pdf\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"robot name is: my_humanoid\n---------- Successfully Parsed XML ---------------\nroot Link: base_link has 2 child(ren)\n    child(1):  left_hip\n        child(1):  left_knee\n            child(1):  left_foot\n    child(2):  right_hip\n        child(1):  right_knee\n            child(1):  right_foot\n"})}),"\n",(0,s.jsx)(e.h3,{id:"step-5-rviz-visualization-1-hour",children:"Step 5: RViz Visualization (1 hour)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"File"}),": ",(0,s.jsx)(e.code,{children:"launch/view_robot.launch.py"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.substitutions import Command\nimport os\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    pkg_share = get_package_share_directory('my_humanoid_description')\n    urdf_file = os.path.join(pkg_share, 'urdf', 'humanoid.xacro')\n\n    return LaunchDescription([\n        Node(\n            package='robot_state_publisher',\n            executable='robot_state_publisher',\n            name='robot_state_publisher',\n            output='screen',\n            parameters=[{\n                'robot_description': Command(['xacro ', urdf_file])\n            }]\n        ),\n        Node(\n            package='joint_state_publisher_gui',\n            executable='joint_state_publisher_gui',\n            name='joint_state_publisher_gui',\n            output='screen'\n        ),\n        Node(\n            package='rviz2',\n            executable='rviz2',\n            name='rviz2',\n            output='screen',\n            arguments=['-d', os.path.join(pkg_share, 'rviz', 'view_robot.rviz')]\n        ),\n    ])\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Run"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Build workspace\ncd ~/ros2_ws\ncolcon build --packages-select my_humanoid_description\nsource install/setup.bash\n\n# Launch\nros2 launch my_humanoid_description view_robot.launch.py\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Tasks"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Use joint sliders to move legs"}),"\n",(0,s.jsx)(e.li,{children:"Verify no collisions between links"}),"\n",(0,s.jsx)(e.li,{children:"Check COM stays above support polygon (feet)"}),"\n",(0,s.jsx)(e.li,{children:"Screenshot stable standing pose"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"step-6-gazebo-simulation-2-hours",children:"Step 6: Gazebo Simulation (2 hours)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Convert to SDF"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"gz sdf -p urdf/humanoid.urdf > urdf/humanoid.sdf\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add Gazebo plugins"})," to ",(0,s.jsx)(e.code,{children:"humanoid.xacro"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Joint State Publisher Plugin --\x3e\n<gazebo>\n  <plugin name="gazebo_ros_joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">\n    <ros>\n      <namespace>/my_humanoid</namespace>\n      <remapping>~/out:=joint_states</remapping>\n    </ros>\n    <update_rate>50</update_rate>\n  </plugin>\n</gazebo>\n\n\x3c!-- Joint Position Controller Plugin --\x3e\n<gazebo>\n  <plugin name="gazebo_ros_joint_pose_trajectory" filename="libgazebo_ros_joint_pose_trajectory.so">\n    <ros>\n      <namespace>/my_humanoid</namespace>\n      <remapping>~/set_joint_trajectory:=joint_trajectory</remapping>\n    </ros>\n    <update_rate>50</update_rate>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Launch Gazebo"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"gz sim humanoid.sdf\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Tasks"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Drop robot from 0.1m height \u2192 Should land stably without tipping"}),"\n",(0,s.jsx)(e.li,{children:"Apply impulse to torso \u2192 Should recover balance (if controller active)"}),"\n",(0,s.jsxs)(e.li,{children:["Check ",(0,s.jsx)(e.code,{children:"/my_humanoid/joint_states"})," publishes at 50 Hz"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"8-end-of-chapter-project-modular-sensor-platform",children:"8. End-of-Chapter Project: Modular Sensor Platform"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Objective"}),": Design a humanoid URDF with ",(0,s.jsx)(e.strong,{children:"swappable end-effectors"})," (parallel gripper, suction cup, tool holder) using Xacro macros and YAML configuration."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Base Robot"}),": 12-DOF humanoid from lab"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Three End-Effectors"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Parallel gripper (2 prismatic fingers)"}),"\n",(0,s.jsx)(e.li,{children:"Suction cup (vacuum gripper for flat objects)"}),"\n",(0,s.jsx)(e.li,{children:"Tool holder (fixed mount for screwdriver/wrench)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Xacro Parameter"}),": ",(0,s.jsx)(e.code,{children:"end_effector_type"})," selects which to attach"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Validation"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["All three variants pass ",(0,s.jsx)(e.code,{children:"check_urdf"})]}),"\n",(0,s.jsx)(e.li,{children:"RViz visualization shows correct end-effector"}),"\n",(0,s.jsx)(e.li,{children:"Gazebo simulation with object grasping (bonus)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Starter Code"})," (",(0,s.jsx)(e.code,{children:"urdf/end_effectors.xacro"}),"):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  <xacro:macro name="parallel_gripper" params="parent_link">\n    \x3c!-- Left Finger --\x3e\n    <link name="left_finger">\n      <visual>\n        <geometry>\n          <box size="0.02 0.01 0.05"/>\n        </geometry>\n        <material name="gripper_gray">\n          <color rgba="0.6 0.6 0.6 1.0"/>\n        </material>\n      </visual>\n      <collision>\n        <geometry>\n          <box size="0.02 0.01 0.05"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.05"/>\n        <inertia ixx="0.00001" ixy="0" ixz="0" iyy="0.00001" iyz="0" izz="0.00001"/>\n      </inertial>\n    </link>\n\n    <joint name="left_finger_joint" type="prismatic">\n      <parent link="${parent_link}"/>\n      <child link="left_finger"/>\n      <origin xyz="0.02 0.015 0" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="0.0" upper="0.03" effort="20.0" velocity="0.1"/>\n    </joint>\n\n    \x3c!-- Right Finger (symmetric) --\x3e\n    <link name="right_finger">\n      <visual>\n        <geometry>\n          <box size="0.02 0.01 0.05"/>\n        </geometry>\n        <material name="gripper_gray"/>\n      </visual>\n      <collision>\n        <geometry>\n          <box size="0.02 0.01 0.05"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.05"/>\n        <inertia ixx="0.00001" ixy="0" ixz="0" iyy="0.00001" iyz="0" izz="0.00001"/>\n      </inertial>\n    </link>\n\n    <joint name="right_finger_joint" type="prismatic">\n      <parent link="${parent_link}"/>\n      <child link="right_finger"/>\n      <origin xyz="0.02 -0.015 0" rpy="0 0 0"/>\n      <axis xyz="0 -1 0"/>\n      <limit lower="0.0" upper="0.03" effort="20.0" velocity="0.1"/>\n    </joint>\n  </xacro:macro>\n\n  <xacro:macro name="suction_cup" params="parent_link">\n    <link name="suction_cup">\n      <visual>\n        <geometry>\n          <cylinder radius="0.025" length="0.04"/>\n        </geometry>\n        <material name="suction_orange">\n          <color rgba="1.0 0.5 0.0 1.0"/>\n        </material>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="0.025" length="0.04"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.1"/>\n        <inertia ixx="0.00002" ixy="0" ixz="0" iyy="0.00002" iyz="0" izz="0.00003"/>\n      </inertial>\n    </link>\n\n    <joint name="suction_joint" type="fixed">\n      <parent link="${parent_link}"/>\n      <child link="suction_cup"/>\n      <origin xyz="0.02 0 0" rpy="0 0 0"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- TODO: Add tool_holder macro --\x3e\n\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Main URDF"})," (",(0,s.jsx)(e.code,{children:"humanoid_with_tools.xacro"}),"):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<xacro:include filename="$(find my_humanoid_description)/urdf/end_effectors.xacro"/>\n\n<xacro:property name="end_effector_type" value="parallel_gripper"/>\n\n<xacro:if value="${end_effector_type == \'parallel_gripper\'}">\n  <xacro:parallel_gripper parent_link="left_elbow"/>\n  <xacro:parallel_gripper parent_link="right_elbow"/>\n</xacro:if>\n\n<xacro:if value="${end_effector_type == \'suction_cup\'}">\n  <xacro:suction_cup parent_link="left_elbow"/>\n  <xacro:suction_cup parent_link="right_elbow"/>\n</xacro:if>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Evaluation Criteria"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Correctness (40%)"}),": All three variants pass ",(0,s.jsx)(e.code,{children:"check_urdf"})," and ",(0,s.jsx)(e.code,{children:"gz sdf --check"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Modularity (30%)"}),": Single parameter changes end-effector, no code duplication"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Documentation (20%)"}),": README with usage, parameter descriptions, screenshots"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Bonus (10%)"}),": Gazebo grasping demo with vacuum plugin or mimic joints"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(e.p,{children:"In this chapter, you learned:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Robot Description Formats"}),": URDF for ROS 2, SDF for Gazebo, USD for Isaac Sim"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF Structure"}),": Links (geometry, inertia), joints (types, limits), and coordinate frames"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Humanoid Kinematics"}),": 12-30 DOF configurations, kinematic tree topology"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Xacro Macros"}),": Parameterized templates for modular robot descriptions"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Validation Tools"}),": ",(0,s.jsx)(e.code,{children:"check_urdf"}),", ",(0,s.jsx)(e.code,{children:"urdf_to_graphviz"}),", RViz, Gazebo, Isaac Sim"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SDF Conversion"}),": URDF\u2192SDF workflow and common issues"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Hands-On Skills"}),": Built a complete 12-DOF humanoid from scratch, validated in simulation"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Key Takeaways"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Always define inertial properties (mass, COM, inertia tensor) for dynamic simulation"}),"\n",(0,s.jsx)(e.li,{children:"Use Xacro for maintainability (DRY principle)"}),"\n",(0,s.jsx)(e.li,{children:"Validate early and often (check_urdf after every major change)"}),"\n",(0,s.jsx)(e.li,{children:"Match inertial frame to COM, not link origin"}),"\n",(0,s.jsx)(e.li,{children:"Test in RViz (kinematics) before Gazebo (dynamics)"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Next Chapter Preview"}),": Chapter 5 covers Gazebo simulation fundamentals\u2014worlds, physics engines, sensor plugins, and your first bipedal walking controller."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"URDF Specification"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["ROS Wiki URDF/XML: ",(0,s.jsx)(e.a,{href:"http://wiki.ros.org/urdf/XML",children:"http://wiki.ros.org/urdf/XML"})]}),"\n",(0,s.jsxs)(e.li,{children:["Official URDF Spec (GitHub): ",(0,s.jsx)(e.a,{href:"https://github.com/ros/urdfdom/blob/master/urdf_parser/urdf.bnf",children:"https://github.com/ros/urdfdom/blob/master/urdf_parser/urdf.bnf"})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"SDF Specification"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["SDFormat Specification: ",(0,s.jsx)(e.a,{href:"http://sdformat.org/spec",children:"http://sdformat.org/spec"})]}),"\n",(0,s.jsxs)(e.li,{children:["Gazebo SDF Tutorials: ",(0,s.jsx)(e.a,{href:"https://gazebosim.org/docs/latest/sdf_worlds",children:"https://gazebosim.org/docs/latest/sdf_worlds"})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Xacro Documentation"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["ROS 2 Xacro: ",(0,s.jsx)(e.a,{href:"https://github.com/ros/xacro",children:"https://github.com/ros/xacro"})]}),"\n",(0,s.jsxs)(e.li,{children:["Xacro Tutorial: ",(0,s.jsx)(e.a,{href:"http://wiki.ros.org/urdf/Tutorials/Using%20Xacro%20to%20Clean%20Up%20a%20URDF%20File",children:"http://wiki.ros.org/urdf/Tutorials/Using%20Xacro%20to%20Clean%20Up%20a%20URDF%20File"})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Isaac Sim USD"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["NVIDIA Isaac Sim URDF Importer: ",(0,s.jsx)(e.a,{href:"https://docs.omniverse.nvidia.com/isaacsim/latest/features/environment_setup/ext_omni_isaac_urdf.html",children:"https://docs.omniverse.nvidia.com/isaacsim/latest/features/environment_setup/ext_omni_isaac_urdf.html"})]}),"\n",(0,s.jsxs)(e.li,{children:["USD Specification (Pixar): ",(0,s.jsx)(e.a,{href:"https://openusd.org/release/spec.html",children:"https://openusd.org/release/spec.html"})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Inertia Calculation"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["List of Moments of Inertia (Wikipedia): ",(0,s.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/List_of_moments_of_inertia",children:"https://en.wikipedia.org/wiki/List_of_moments_of_inertia"})]}),"\n",(0,s.jsxs)(e.li,{children:["MeshLab (Geometric Measures): ",(0,s.jsx)(e.a,{href:"http://www.meshlab.net/",children:"http://www.meshlab.net/"})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example Humanoid URDFs"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["PR2 Robot (Willow Garage): ",(0,s.jsx)(e.a,{href:"https://github.com/pr2/pr2_common/tree/melodic-devel/pr2_description",children:"https://github.com/pr2/pr2_common/tree/melodic-devel/pr2_description"})]}),"\n",(0,s.jsxs)(e.li,{children:["Atlas Robot (Boston Dynamics/OSRF): ",(0,s.jsx)(e.a,{href:"https://github.com/RobotLocomotion/drake/tree/master/examples/atlas",children:"https://github.com/RobotLocomotion/drake/tree/master/examples/atlas"})]}),"\n",(0,s.jsxs)(e.li,{children:["Valkyrie (NASA JSC): ",(0,s.jsx)(e.a,{href:"https://github.com/NASA-JSC/val_description",children:"https://github.com/NASA-JSC/val_description"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"End of Chapter 4"})})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>a});var r=i(6540);const s={},l=r.createContext(s);function o(n){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);