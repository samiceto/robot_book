"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_book=self.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[317],{8024:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"part3-perception/realsense-integration","title":"Chapter 9: Intel RealSense Integration","description":"Learning Objectives","source":"@site/docs/part3-perception/09-realsense-integration.md","sourceDirName":"part3-perception","slug":"/part3-perception/realsense-integration","permalink":"/robot_book/docs/part3-perception/realsense-integration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Chapter 8: Simulation Benchmarking","permalink":"/robot_book/docs/part2-simulation/simulation-benchmarking"},"next":{"title":"Chapter 10: Object Detection with YOLO","permalink":"/robot_book/docs/part3-perception/object-detection-yolo"}}');var i=s(4848),t=s(8453);const l={},a="Chapter 9: Intel RealSense Integration",o={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"1. RealSense Overview",id:"1-realsense-overview",level:2},{value:"2. Installation",id:"2-installation",level:2},{value:"Install RealSense SDK",id:"install-realsense-sdk",level:3},{value:"Install ROS 2 Wrapper",id:"install-ros-2-wrapper",level:3},{value:"3. Basic Usage",id:"3-basic-usage",level:2},{value:"Capture RGBD Data",id:"capture-rgbd-data",level:3},{value:"Generate Point Cloud",id:"generate-point-cloud",level:3},{value:"4. Hands-On Lab: Object Distance Measurement (2 hours)",id:"4-hands-on-lab-object-distance-measurement-2-hours",level:2},{value:"5. End-of-Chapter Project: Obstacle Detection",id:"5-end-of-chapter-project-obstacle-detection",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-9-intel-realsense-integration",children:"Chapter 9: Intel RealSense Integration"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Install"})," Intel RealSense SDK and ROS 2 wrapper"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Capture"})," RGBD data (color + depth) at 30 FPS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Generate"})," point clouds for 3D perception"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Calibrate"})," camera intrinsics and extrinsics"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Integrate"})," with ROS 2 for real-time processing"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-realsense-overview",children:"1. RealSense Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Intel RealSense D435/D455"})," (Recommended for humanoids):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Depth Range"}),": 0.3m - 10m"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resolution"}),": 1280\xd7720 @ 30 FPS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Technology"}),": Stereo vision (not ToF)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"FOV"}),": 87\xb0 \xd7 58\xb0 (wide angle)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Interface"}),": USB 3.0"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Power"}),": USB-powered (no external adapter)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why RealSense for Humanoids"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Lightweight (72g)"}),"\n",(0,i.jsx)(n.li,{children:"Wide FOV for navigation"}),"\n",(0,i.jsx)(n.li,{children:"Accurate depth (\xb12% at 2m)"}),"\n",(0,i.jsx)(n.li,{children:"ROS 2 native support"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-installation",children:"2. Installation"}),"\n",(0,i.jsx)(n.h3,{id:"install-realsense-sdk",children:"Install RealSense SDK"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Add Intel repository\nsudo mkdir -p /etc/apt/keyrings\ncurl -sSf https://librealsense.intel.com/Debian/librealsense.pgp | sudo tee /etc/apt/keyrings/librealsense.pgp > /dev/null\necho "deb [signed-by=/etc/apt/keyrings/librealsense.pgp] https://librealsense.intel.com/Debian/apt-repo `lsb_release -cs` main" | \\\nsudo tee /etc/apt/sources.list.d/librealsense.list\n\n# Install SDK\nsudo apt update\nsudo apt install librealsense2-dkms librealsense2-utils librealsense2-dev\n\n# Verify\nrealsense-viewer  # GUI should open showing camera feed\n'})}),"\n",(0,i.jsx)(n.h3,{id:"install-ros-2-wrapper",children:"Install ROS 2 Wrapper"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-${ROS_DISTRO}-realsense2-camera\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-basic-usage",children:"3. Basic Usage"}),"\n",(0,i.jsx)(n.h3,{id:"capture-rgbd-data",children:"Capture RGBD Data"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Terminal 1"}),": Launch RealSense node"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 launch realsense2_camera rs_launch.py depth_module.profile:=640x480x30 rgb_camera.profile:=640x480x30\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Terminal 2"}),": View topics"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List topics\nros2 topic list\n# /camera/color/image_raw      # RGB image\n# /camera/depth/image_rect_raw # Depth image\n# /camera/depth/color/points   # Point cloud\n\n# View depth image\nros2 run rqt_image_view rqt_image_view /camera/depth/image_rect_raw\n"})}),"\n",(0,i.jsx)(n.h3,{id:"generate-point-cloud",children:"Generate Point Cloud"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import rclpy\nfrom sensor_msgs.msg import PointCloud2\n\ndef pointcloud_callback(msg: PointCloud2):\n    """Process point cloud data."""\n    print(f"Point cloud: {msg.width}x{msg.height} points")\n    # Process with open3d or pcl\n\nrclpy.init()\nnode = rclpy.create_node(\'pointcloud_processor\')\nnode.create_subscription(PointCloud2, \'/camera/depth/color/points\', pointcloud_callback, 10)\nrclpy.spin(node)\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-hands-on-lab-object-distance-measurement-2-hours",children:"4. Hands-On Lab: Object Distance Measurement (2 hours)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Goal"}),": Measure distance to objects in front of humanoid."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Launch RealSense node"}),"\n",(0,i.jsxs)(n.li,{children:["Subscribe to ",(0,i.jsx)(n.code,{children:"/camera/depth/image_rect_raw"})]}),"\n",(0,i.jsx)(n.li,{children:"Find center pixel depth value"}),"\n",(0,i.jsx)(n.li,{children:"Display distance in meters"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Code"}),": ",(0,i.jsx)(n.code,{children:"distance_measurement.py"})," (companion repository)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom sensor_msgs.msg import Image\nfrom cv_bridge import CvBridge\nimport numpy as np\n\nclass DistanceMeasurement(Node):\n    def __init__(self):\n        super().__init__('distance_measurement')\n        self.subscription = self.create_subscription(\n            Image, '/camera/depth/image_rect_raw', self.depth_callback, 10)\n        self.bridge = CvBridge()\n\n    def depth_callback(self, msg):\n        # Convert to numpy array\n        depth_image = self.bridge.imgmsg_to_cv2(msg, desired_encoding='passthrough')\n\n        # Get center pixel depth (in mm)\n        h, w = depth_image.shape\n        center_depth_mm = depth_image[h//2, w//2]\n        center_depth_m = center_depth_mm / 1000.0\n\n        self.get_logger().info(f'Distance to center object: {center_depth_m:.2f} m')\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Validation"}),": Place object at 1.0m \u2192 should read 0.95-1.05m"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-end-of-chapter-project-obstacle-detection",children:"5. End-of-Chapter Project: Obstacle Detection"}),"\n",(0,i.jsx)(n.p,{children:"Detect obstacles within 1m in front of humanoid for navigation safety."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Requirements"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Subscribe to depth image"}),"\n",(0,i.jsx)(n.li,{children:"Identify pixels < 1.0m depth"}),"\n",(0,i.jsx)(n.li,{children:"Publish boolean: obstacle detected (yes/no)"}),"\n",(0,i.jsx)(n.li,{children:"Visualize detection zone in RViz2"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Deliverable"}),": ROS 2 package with obstacle detection node"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(n.p,{children:"You learned to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Install RealSense SDK and ROS 2 wrapper"}),"\n",(0,i.jsx)(n.li,{children:"Capture RGBD data at 30 FPS"}),"\n",(0,i.jsx)(n.li,{children:"Process depth images for distance measurement"}),"\n",(0,i.jsx)(n.li,{children:"Generate point clouds for 3D perception"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next"}),": Chapter 10 covers YOLO object detection for semantic understanding."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);