"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_book=self.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[19],{5662:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"part5-advanced/safety-compliance","title":"Chapter 20: Safety and Compliance","description":"Learning Objectives","source":"@site/docs/part5-advanced/20-safety-compliance.md","sourceDirName":"part5-advanced","slug":"/part5-advanced/safety-compliance","permalink":"/robot_book/docs/part5-advanced/safety-compliance","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Chapter 19: Human-Robot Interaction","permalink":"/robot_book/docs/part5-advanced/human-robot-interaction"},"next":{"title":"Chapter 21: Production Deployment at Scale","permalink":"/robot_book/docs/part5-advanced/production-deployment"}}');var t=s(4848),r=s(8453);const l={},a="Chapter 20: Safety and Compliance",o={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"1. Safety Standards Overview",id:"1-safety-standards-overview",level:2},{value:"ISO 13482 (Personal Care Robots)",id:"iso-13482-personal-care-robots",level:3},{value:"Safety Levels",id:"safety-levels",level:3},{value:"2. Collision Detection",id:"2-collision-detection",level:2},{value:"Force/Torque Monitoring",id:"forcetorque-monitoring",level:3},{value:"Skin Sensors (Capacitive/Resistive)",id:"skin-sensors-capacitiveresistive",level:3},{value:"3. Collision Avoidance",id:"3-collision-avoidance",level:2},{value:"Distance-Based Slowdown",id:"distance-based-slowdown",level:3},{value:"Dynamic Obstacle Avoidance",id:"dynamic-obstacle-avoidance",level:3},{value:"4. Emergency Stop System",id:"4-emergency-stop-system",level:2},{value:"Hardware E-Stop",id:"hardware-e-stop",level:3},{value:"Software E-Stop",id:"software-e-stop",level:3},{value:"5. Risk Assessment",id:"5-risk-assessment",level:2},{value:"HAZOP Analysis (Hazard and Operability)",id:"hazop-analysis-hazard-and-operability",level:3},{value:"Risk Calculation",id:"risk-calculation",level:3},{value:"6. Fail-Safe Behaviors",id:"6-fail-safe-behaviors",level:2},{value:"Graceful Degradation",id:"graceful-degradation",level:3},{value:"7. Hands-On Lab: Safety System Implementation (3 hours)",id:"7-hands-on-lab-safety-system-implementation-3-hours",level:2},{value:"8. End-of-Chapter Project",id:"8-end-of-chapter-project",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"chapter-20-safety-and-compliance",children:"Chapter 20: Safety and Compliance"})}),"\n",(0,t.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Understand"})," ISO 13482 safety standards for service robots"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Implement"})," collision detection and avoidance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Design"})," fail-safe behaviors and emergency stops"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Conduct"})," risk assessments for robot operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Document"})," safety compliance for certification"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-safety-standards-overview",children:"1. Safety Standards Overview"}),"\n",(0,t.jsx)(n.h3,{id:"iso-13482-personal-care-robots",children:"ISO 13482 (Personal Care Robots)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Risk assessment and mitigation"}),"\n",(0,t.jsx)(n.li,{children:"Emergency stop accessible within 1 second"}),"\n",(0,t.jsx)(n.li,{children:"Collision force limits (<150N for head, <50N for body)"}),"\n",(0,t.jsx)(n.li,{children:"Pinch point protection"}),"\n",(0,t.jsx)(n.li,{children:"Electrical safety (low voltage)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"safety-levels",children:"Safety Levels"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"SIL 0: No safety requirements\nSIL 1: Low risk (e.g., vacuum robot)\nSIL 2: Medium risk (e.g., delivery robot)\nSIL 3: High risk (e.g., humanoid near humans)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Humanoid robots typically require SIL 2-3 certification."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-collision-detection",children:"2. Collision Detection"}),"\n",(0,t.jsx)(n.h3,{id:"forcetorque-monitoring",children:"Force/Torque Monitoring"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class CollisionDetector:\n    def __init__(self, joint_names):\n        self.expected_torques = {}\n        self.collision_threshold = 10.0  # Nm\n\n    def detect_collision(self, measured_torques):\n        """Detect unexpected torques indicating collision."""\n        for joint, torque in measured_torques.items():\n            expected = self.expected_torques.get(joint, 0)\n            residual = abs(torque - expected)\n\n            if residual > self.collision_threshold:\n                return True, joint\n\n        return False, None\n\n# Usage\ncollision, joint = detector.detect_collision(robot.get_torques())\nif collision:\n    robot.emergency_stop()\n    print(f"Collision detected at {joint}")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"skin-sensors-capacitiveresistive",children:"Skin Sensors (Capacitive/Resistive)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def check_skin_sensors(sensor_readings):\n    """Monitor contact across robot surface."""\n    for sensor_id, value in sensor_readings.items():\n        if value > CONTACT_THRESHOLD:\n            return True, sensor_id\n    return False, None\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-collision-avoidance",children:"3. Collision Avoidance"}),"\n",(0,t.jsx)(n.h3,{id:"distance-based-slowdown",children:"Distance-Based Slowdown"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def compute_safe_velocity(obstacle_distance):\n    """Reduce velocity based on proximity."""\n    if obstacle_distance < 0.3:  # Critical zone\n        return 0.0  # Stop\n    elif obstacle_distance < 1.0:  # Warning zone\n        return 0.3 * MAX_VELOCITY\n    else:  # Safe zone\n        return MAX_VELOCITY\n\nvelocity = compute_safe_velocity(distance_to_human)\nrobot.set_velocity(velocity)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dynamic-obstacle-avoidance",children:"Dynamic Obstacle Avoidance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from nav2_msgs.action import NavigateToPose\n\nclass SafeNavigator:\n    def __init__(self):\n        self.costmap_sub = self.create_subscription(\n            OccupancyGrid, \'/costmap\', self.costmap_callback, 10\n        )\n\n    def costmap_callback(self, msg):\n        """Update obstacle map dynamically."""\n        # Replan if new obstacles detected\n        if self.path_blocked(msg):\n            self.replan_path()\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-emergency-stop-system",children:"4. Emergency Stop System"}),"\n",(0,t.jsx)(n.h3,{id:"hardware-e-stop",children:"Hardware E-Stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class EmergencyStop:\n    def __init__(self):\n        # Hardware button on GPIO\n        self.button_pin = 17\n        GPIO.setup(self.button_pin, GPIO.IN, pull_up_down=GPIO.PUD_UP)\n        GPIO.add_event_detect(self.button_pin, GPIO.FALLING, callback=self.estop_pressed)\n\n    def estop_pressed(self, channel):\n        """Immediate hardware stop."""\n        robot.disable_all_motors()\n        robot.apply_brakes()\n        print("EMERGENCY STOP ACTIVATED")\n\n        # Cannot resume without physical reset\n'})}),"\n",(0,t.jsx)(n.h3,{id:"software-e-stop",children:"Software E-Stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def software_estop():\n    """Controlled stop with deceleration."""\n    # Decelerate over 0.5 seconds\n    for t in np.linspace(0, 0.5, 50):\n        scale = 1 - (t / 0.5)\n        robot.set_velocity_scale(scale)\n        time.sleep(0.01)\n\n    robot.set_velocity(0)\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-risk-assessment",children:"5. Risk Assessment"}),"\n",(0,t.jsx)(n.h3,{id:"hazop-analysis-hazard-and-operability",children:"HAZOP Analysis (Hazard and Operability)"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Hazard"}),(0,t.jsx)(n.th,{children:"Cause"}),(0,t.jsx)(n.th,{children:"Effect"}),(0,t.jsx)(n.th,{children:"Mitigation"}),(0,t.jsx)(n.th,{children:"Severity"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Fall"}),(0,t.jsx)(n.td,{children:"Slippery floor"}),(0,t.jsx)(n.td,{children:"Robot damage, human injury"}),(0,t.jsx)(n.td,{children:"Non-slip feet, balance sensors"}),(0,t.jsx)(n.td,{children:"High"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Collision"}),(0,t.jsx)(n.td,{children:"Sensor failure"}),(0,t.jsx)(n.td,{children:"Human injury"}),(0,t.jsx)(n.td,{children:"Redundant sensors, E-stop"}),(0,t.jsx)(n.td,{children:"Critical"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Pinch"}),(0,t.jsx)(n.td,{children:"Gripper malfunction"}),(0,t.jsx)(n.td,{children:"Finger injury"}),(0,t.jsx)(n.td,{children:"Force limits, soft gripper"}),(0,t.jsx)(n.td,{children:"Medium"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Fire"}),(0,t.jsx)(n.td,{children:"Battery overcharge"}),(0,t.jsx)(n.td,{children:"Facility damage"}),(0,t.jsx)(n.td,{children:"BMS, temp monitoring"}),(0,t.jsx)(n.td,{children:"High"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"risk-calculation",children:"Risk Calculation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def calculate_risk_score(probability, severity):\n    """\n    Risk = Probability \xd7 Severity\n\n    Probability: 1-5 (rare to certain)\n    Severity: 1-5 (negligible to catastrophic)\n    """\n    risk = probability * severity\n\n    if risk >= 15:\n        return "CRITICAL - Must mitigate"\n    elif risk >= 10:\n        return "HIGH - Implement safeguards"\n    elif risk >= 5:\n        return "MEDIUM - Monitor closely"\n    else:\n        return "LOW - Accept risk"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"6-fail-safe-behaviors",children:"6. Fail-Safe Behaviors"}),"\n",(0,t.jsx)(n.h3,{id:"graceful-degradation",children:"Graceful Degradation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class FaultTolerantController:\n    def __init__(self):\n        self.sensors = ['camera', 'lidar', 'imu']\n        self.sensor_status = {s: True for s in self.sensors}\n\n    def update(self):\n        \"\"\"Adapt behavior based on sensor availability.\"\"\"\n        if not self.sensor_status['camera']:\n            # Fall back to lidar-only navigation\n            self.use_lidar_navigation()\n\n        if not self.sensor_status['imu']:\n            # Use joint encoders for balance\n            self.use_encoder_balance()\n\n        # If critical sensor fails, stop\n        if not self.sensor_status['lidar']:\n            self.safe_stop()\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"7-hands-on-lab-safety-system-implementation-3-hours",children:"7. Hands-On Lab: Safety System Implementation (3 hours)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Goal"}),": Implement multi-layered safety system."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Add collision detection (torque-based)"}),"\n",(0,t.jsx)(n.li,{children:"Implement E-stop (software + hardware simulation)"}),"\n",(0,t.jsx)(n.li,{children:"Add proximity-based slowdown"}),"\n",(0,t.jsx)(n.li,{children:"Test safety responses in Isaac Sim"}),"\n",(0,t.jsx)(n.li,{children:"Document hazard analysis"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Validation"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"E-stop triggers within 50ms"}),"\n",(0,t.jsx)(n.li,{children:"Collision detected before 5N force"}),"\n",(0,t.jsx)(n.li,{children:"Robot stops within 0.5m of obstacles"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"8-end-of-chapter-project",children:"8. End-of-Chapter Project"}),"\n",(0,t.jsx)(n.p,{children:"Conduct full safety assessment for humanoid deployment."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Requirements"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HAZOP analysis (10+ hazards)"}),"\n",(0,t.jsx)(n.li,{children:"Risk mitigation strategies"}),"\n",(0,t.jsx)(n.li,{children:"Safety system implementation (collision, E-stop, limits)"}),"\n",(0,t.jsx)(n.li,{children:"Test report (100 safety-critical scenarios)"}),"\n",(0,t.jsx)(n.li,{children:"Documentation for ISO 13482 compliance"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deliverables"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Risk assessment report (PDF)"}),"\n",(0,t.jsx)(n.li,{children:"Safety system code"}),"\n",(0,t.jsx)(n.li,{children:"Test results with videos"}),"\n",(0,t.jsx)(n.li,{children:"Compliance checklist"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"Safety is paramount for real-world robot deployment. ISO 13482 compliance requires collision detection, emergency stops, risk assessments, and fail-safe behaviors."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Next"}),": Chapter 21 covers production deployment at scale with fleet management."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(6540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);